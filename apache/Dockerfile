
# Imagen base
FROM ubuntu:20.04

# Configuraci칩n no interactiva
ENV DEBIAN_FRONTEND=noninteractive

# Instalaci칩n de dependencias
RUN apt-get update && apt-get install -y \
    apache2 \
    curl \
    wget \
    vim

# Crear el directorio "hidden" y a침adir un archivo de flag
RUN mkdir /var/www/html/hidden && echo "Flag: CTF{hidden_directory_flag}" > /var/www/html/hidden/flag.txt

# Habilitar opciones de indexaci칩n en Apache
RUN echo "<Directory /var/www/html/hidden>\n    Options Indexes\n    Require all granted\n</Directory>" >> /etc/apache2/apache2.conf

# Exponer el puerto 80
EXPOSE 80

# Iniciar el servidor
CMD ["apachectl", "-D", "FOREGROUND"]
